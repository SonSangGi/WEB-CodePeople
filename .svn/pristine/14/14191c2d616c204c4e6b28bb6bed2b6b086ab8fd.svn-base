<%@page import="java.util.Date"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>


<!DOCTYPE html>
<html lang="ko">

<head>
	<title>video player</title>
	<meta charset="utf-8">

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	
	<link rel="stylesheet" href="/resources/css/paid/video-contents.css?ver=<%=new Date() %>">
	<link rel="stylesheet" href="/resources/css/paid/video-player.css?ver=<%=new Date() %>">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="/resources/js/paid/video-player.js?ver=<%=new Date() %>"></script>
	<script src="/resources/js/paid/video-contents.js?ver=<%=new Date() %>"></script>

</head>

<body>

	<div class="container-fluid">

		<div class="video-note-page">
			<div class="col-xs-3 video-in-notelist">
				<p class="video-in-notelist-label">NOTE LIST</p>
				<div class="col-xs-12 video-note-list-wrapper">
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
					<div class="video-each-note">
						<div class="paid-note-toparea">
							<span class="video-section-info-wrapper"><span class="glyphicon glyphicon-pencil"></span><span> section</span><span id="paid-each-section-no"> 2 : </span><span id="paid-each-section-name">enum class</span></span>

							<div class="video-each-section-date">
								<span class="glyphicon glyphicon-time"></span><span>2017.09.12</span>
							</div>
							<h3 id="video-each-note-title">이넘 클래스 요약</h3>
						</div>
					</div>
				</div>
			</div>


			<div class="col-xs-7 col-xs-offset-4 video-in-note">
				<div class="video-note-section-wrapper">
					<div>
						<span>Section </span><span id="video-note-section-no">3</span>
					</div>
					<div>
						<span>: </span><span class="video-note-section-name">Enum class</span>
					</div>
				</div>
				<div class="video-note-lesson-wrapper">
					<span>Lesson</span>
					<span id="video-note-section-no">1. </span>
					<span id="video-note-section-name">introduction</span>

				</div>
				<div class="video-note-contents">

				</div>

				<div class="video-note-controls-wrapper">
					<div>
						<span class="exit-pip">
							<img src="/resources/img/paid/video/note-exit.png" width="30px">
							돌아가기
						</span>
					</div>
					<div>
						<span class="save-note">
							<img src="/resources/img/paid/video/note-save.png" width="35px">
							저장하기
						</span>
					</div>
				</div>
			</div>
		</div>


		<div id='media-player'>
			<div id="mySidenav" class="sidenav">
				<span href="javascript:void(0)" class="closebtn">&times;</span>
				<div class="video-content-list">

					<c:forEach var="result" varStatus="status" items="${lectureWrapper}">
							<div class="col-xs-10 col-xs-offset-1 video-section-whole-box" id="group-${status.count }">
								<div class="row video-section-top-box">
									<div class="row" style="margin-top: 20px;">
										<div class="col-xs-10 video-top-section-wrapper">
											<span class="video-section-no-box"><span>SECTION </span><span id="video-section-no"> ${result.get(0).sectionNo}</span></span>
										</div>
										<div class="col-xs-2 video-section-complete-box">
											<span id="video-section-lesson-complete" class="${status.count }"> 1 </span><span> / </span><span id="video-section-lesson-list">${fn:length(result) } </span>
										</div>
									</div>
									<div class="row">
										<h3 id="video-section-name">${result.get(0).sectionName}</h3>
									</div>
								</div>
							<c:forEach var="list" varStatus="number" items="${result }">
								
								<div class="row video-section-lesson-list">
									<div class="col-xs-1"></div>
									<div class="col-xs-10 video-section-lessonbox">
										<div class="video-lesson-per-one">
										<a href="/paid/video.do?fileName=${list.filePath }"> 
											<div class="col-xs-10 video-identify-wrapper">
												<span id="video-lesson-no">${number.count}</span><span>. </span><span
													id="video-lesson-name"> ${list.lessonName}</span>
											</div>
										</a>
											<div class="col-xs-2" style="text-align: right;">
											
											
								<c:forEach var="sectionFlag" varStatus="flagNum" items="${lectureHistories }">
									<c:if test="${sectionFlag.paidLectureDetail.sectionNo eq list.sectionNo}">
										<c:choose>
											<c:when test="${sectionFlag.paidLectureDetail.lessonNo eq list.lessonNo}">
												<c:if test="${sectionFlag.pass eq 'Y' }">
													<span id="video-complete-symbol">●</span>
												</c:if>
												<c:if test="${sectionFlag.pass eq 'N' }">
													<span id="video-complete-symbol">○</span>
												</c:if>
													<!--<span id="complete-symbol">${checkFlag.paidLectureDetail.lessonNo }</span>
											  		-->
											</c:when>
										</c:choose>
									</c:if>	
								</c:forEach>
											
											</div>
										</div>
									</div>
									<div class="col-xs-1"></div>
								</div>
							</c:forEach>
							</div>
					</c:forEach>
				</div>


			</div>
			<div class="toolbar">
				<div class="video-header">
					<div>
						<div class="col-xs-2 video-header-left">
							<span class="glyphicon glyphicon-menu-hamburger" id="video-lesson-menu"></span>
						</div>
						<div class="col-xs-10 video-header-right">
							<button class="sg-btn-primary" id="video-smart-copy">SMART COPY</button>
							<button class="sg-btn-secondary" id="video-myNote">MY NOTE</button>
							<a href="/paid/detail.do?no=${lectureDetails.get(0).getPaidLecture().getNo() }"><span id="potal-dashboard">대시보드로 가기</span></a>
						</div>
					</div>
				</div>
				<div class="speed-dropup">
					<div class="speed-option">
						<a id="0.5">0.5 x</a>
						<a id="0.75">0.75 x</a>
						<a id="1.0" style="background-color : #afeeee">1 x</a>
						<a id="1.25">1.25 x</a>
						<a id="1.5">1.5 x</a>
						<a id="2.0">2 x</a>
					</div>
				</div>

				<div class="video-footer">
					<div class="video-controller">
						<div id="backBar">
							<div id="progressBar">
							</div>
						</div>

						<div class="buttons">

							<span class="footer-left-buttons" style="margin-left: 20px;">
								<span class="glyphicon glyphicon-pause" id="playPause"></span>
								<span class="glyphicon glyphicon-forward" id="plusCurrentTime"></span>
								<button id="speedSetting" class="label sg-btn-primary"> speed 1.0 x</button>
								<span class="glyphicon glyphicon-backward" id="minusCurrentTime"></span>
								<span id="currenttime" style="color:white">00:00</span>
								<span style="color: aliceblue"> / </span>
								<span id="duration" style="color:white">00:00</span>
							</span>



							<span class="footer-center-buttons">
								<span id="video-link-questionBoard">
									<span class="glyphicon glyphicon-question-sign"></span>
									<span>Q&A</span>
								</span>
								<span id="video-link-bookmark">
									<span class="glyphicon glyphicon-bookmark"></span>
									<span>BOOKMARK</span>
								</span>
							</span>

							<span class="footer-right-buttons">
								<!-- 
                            <button id="volumeUp">volumeUp + 0.1</button>
                            <button id="volumeDown">volumeDown - 0.1</button>
                            -->
								<span class="glyphicon glyphicon-volume-up" id="mute"></span>
								<span class="glyphicon glyphicon-modal-window" id="pip"></span>
								<span class="glyphicon glyphicon-fullscreen" id="fullscreen"></span>
							</span>
						</div>

					</div>
				</div>
			</div>


			<c:choose>
				<c:when test="${!empty LOGIN_USER}">
			<video onchange='getBarSize()' id='media-video' autoplay onload="true">
                <source src='http://localhost:3000/video?fileName=${fileName }' type='video/mp4'>
                <source src='http://localhost:3000/video?fileName=${fileName }' type='video/webm'>
			</video>
				</c:when>			
				<c:otherwise>
				<p style="color: white;"> 로그인이 필요한 서비스입니다 </p>
				</c:otherwise>
			</c:choose>


		</div>


	</div>
</body>


</html>
